---
date: 2024-04-29
layout: post
title: 도메인과 패키지 구조
categories: [Language]
image: >-
    https://github.com/lcw3176/lcw3176.github.io/assets/59993347/8cd35d71-04be-4f85-b373-fc43196a5f3b
---

## 어드민을 분리하다가

프로젝트의 어드민 코드를 손보다가 여러 생각이 들었다.
고민했던 흐름대로 글을 한번 써보려고 한다.

## 고민의 시작

### 어드민 분리


```sh
└── infra
    └──config
    └──logging
    └──....
|
└── domain
    └── admin
    └── community
        └── post
        └── comment
    └── map
    └── notice
|
└── presentation
    └── admin
    └── community
    └── map
    └── notice
    
```

패키지 구조는 대강 이런식으로 잡혀 있었다.
presentation -> domain -> infra 와 같은 순서로 의존관계가 구성되게 의도한 구조였는데, 여기서 문득 든 생각은 ***어드민은 도메인으로 볼수 있는가?*** 였다.

사람마다 생각은 다를 수 있지만, 내 의도는 하나의 도메인이 ***서비스의 최소 단위***가 될 수 있도록 구성하는 것이었다. 조금 더 쉽게 풀어쓰자면 '개별적으로 구성될 수 있는 가장 작은 서비스의 단위' 정도일 것 같다.

### 모호해진 경계

내 의도대로 구성이 잘 되었다면, 다른 도메인 코드를 수정해도 영향력이 최소화 되어야 한다. 즉, notice(공지사항) 도메인 코드를 수정해도 map, community와 같은 도메인에는 영향이 없어야 한다. 그런데 notice 도메인과 admin 도메인이 뒤섞이는 일이 자꾸 발생했다.





## 참고

- 내 경험

어드민 분리 -> 모듈화 -> 엔티티 활용 -> 공유 엔티티?