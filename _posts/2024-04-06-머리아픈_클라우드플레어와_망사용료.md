---
date: 2024-04-06
layout: post
title: 머리아픈 클라우드플레어와 망사용료
categories: [Devops]
image: >-
    https://github.com/lcw3176/lcw3176.github.io/assets/59993347/db52b847-90fd-4ced-89aa-d1d647f894b2
---

## 게시판을 만들다가

게시판을 만드는데 유난히 게시글을 불러오는 속도가 느렸다.

아무리 생각해도 쿼리 문제는 아닌 것 같았다. 지금 더미데이터 10개밖에 없는데 쿼리 문제 나기도 힘들다. 혹시나 네트워크 쪽에서 문제가 있나 싶어서 크롬 탭을 열어봤다. 

확인해보니 단순히 글 하나 불러오는데 500ms ~ 1s까지 걸리고 있었다. 무엇이 문제인지 한번 조사해봤다.


## 왜 느린가?

<iframe width="560" height="315" src="https://www.youtube.com/embed/yoON08qQBY4?si=0a4C_peaLiVh--Lq" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
</iframe>

### 한국 <-> 미국

### 서울에 서버 없나?

![스크린샷 2024-04-06 134915](https://github.com/lcw3176/lcw3176.github.io/assets/59993347/cf7e4e85-6a84-470b-9342-19f2dfb03af9)

![스크린샷 2024-04-06 134928](https://github.com/lcw3176/lcw3176.github.io/assets/59993347/6dd03c8c-925b-4aa7-a5c1-e98da64cbe0d)



## 대책

### 도메인 이관 or 이전

### api 서버 LA 행


![스크린샷 2024-04-06 003814](https://github.com/lcw3176/lcw3176.github.io/assets/59993347/9a7ecb95-0114-4906-ab7d-9622095a5459)
![스크린샷 2024-04-06 003822](https://github.com/lcw3176/lcw3176.github.io/assets/59993347/732e0e4a-925a-44fc-bbbb-846171addfaa)

![스크린샷 2024-04-06 003852](https://github.com/lcw3176/lcw3176.github.io/assets/59993347/252e0277-57e8-4c2f-bcf5-88b69eacab86)

![스크린샷 2024-04-06 003856](https://github.com/lcw3176/lcw3176.github.io/assets/59993347/aaf9adee-6788-469a-ad0a-0ad580f70f81)



## 결론


## 참고

- 내 경험
- https://www.youtube.com/watch?v=yoON08qQBY4
